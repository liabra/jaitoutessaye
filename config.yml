backend:
  name: github
  repo: liabra/jaitoutessaye
  branch: main
  base_url: https://your-oauth-worker.workers.dev  # Cloudflare Worker OAuth (Ã  crÃ©er)
  auth_endpoint: /auth

# Publication workflow (draft -> review -> publish)
publish_mode: editorial_workflow

# Dossier des mÃ©dias
media_folder: "images/posts"
public_folder: "/images/posts"

# Collections
collections:
  # Articles MaternitÃ©
  - name: "maternite"
    label: "ðŸŒ¸ Articles MaternitÃ©"
    folder: "content/posts/maternite"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: "md"
    format: "frontmatter"
    editor:
      preview: true
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date de publication", name: "date", widget: "datetime" }
      - { label: "Slug", name: "slug", widget: "string", pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Le slug doit Ãªtre en minuscules avec des tirets"] }
      - { label: "CatÃ©gorie", name: "category", widget: "select", options: ["Allaitement", "Sommeil", "DME", "Montessori", "SantÃ© naturelle", "Organisation"] }
      - { label: "RÃ©sumÃ©", name: "excerpt", widget: "text", required: true }
      - { label: "Image de couverture", name: "cover", widget: "image", required: false }
      - { label: "Tags", name: "tags", widget: "list", default: [] }
      - { label: "Temps de lecture (min)", name: "reading_time", widget: "number", default: 5, value_type: "int" }
      - { label: "Contenu", name: "body", widget: "markdown" }
      - { label: "Auteur", name: "author", widget: "string", default: "Marie" }
      - { label: "Type", name: "type", widget: "hidden", default: "pile" }

  # Articles Tech/Coding
  - name: "tech"
    label: "ðŸ’» Articles Tech/Coding"
    folder: "content/posts/tech"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: "md"
    format: "frontmatter"
    editor:
      preview: true
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date de publication", name: "date", widget: "datetime" }
      - { label: "Slug", name: "slug", widget: "string", pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Le slug doit Ãªtre en minuscules avec des tirets"] }
      - { label: "CatÃ©gorie", name: "category", widget: "select", options: ["PWA", "Dev Tools", "Gaming", "Automation", "Tutoriel", "Setup", "Culture JP"] }
      - { label: "RÃ©sumÃ©", name: "excerpt", widget: "text", required: true }
      - { label: "Image de couverture", name: "cover", widget: "image", required: false }
      - { label: "Tags", name: "tags", widget: "list", default: [] }
      - { label: "Temps de lecture (min)", name: "reading_time", widget: "number", default: 5, value_type: "int" }
      - { label: "Contenu", name: "body", widget: "markdown" }
      - { label: "Auteur", name: "author", widget: "string", default: "Marie" }
      - { label: "Type", name: "type", widget: "hidden", default: "face" }

  # Petites Astuces
  - name: "astuces"
    label: "âœ¨ Petites Astuces"
    folder: "content/posts/astuces"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter"
    editor:
      preview: false
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Contenu", name: "body", widget: "text", pattern: ['.{20,150}', "Entre 20 et 150 caractÃ¨res"] }
      - { label: "Ordre d'affichage", name: "order", widget: "number", default: 1, value_type: "int" }

  # Pages
  - name: "pages"
    label: "ðŸ“„ Pages"
    files:
      - label: "Ã€ propos"
        name: "about"
        file: "content/pages/about.md"
        fields:
          - { label: "Titre", name: "title", widget: "string" }
          - { label: "Contenu", name: "body", widget: "markdown" }
      
      - label: "CommunautÃ©"
        name: "community"
        file: "content/pages/community.md"
        fields:
          - { label: "Titre", name: "title", widget: "string" }
          - { label: "Contenu", name: "body", widget: "markdown" }
